---
lastUpdated: "07/14/2021"
title: "Momentum 3.x Legacy Changelog from 2011-2012"
description: "Changelogs for legacy versions of Momentum 3.x"
---

## Momentum 3.3.3 released on 2012-10-16
* Fixed ticket #BZ5541: Transcoding failure can cause blank SMS messages
* Fixed ticket #BZ5576: Fixed encoding problems caused by Lua script using msg:text_replace for quoted-printable encoded messages.
* Fixed ticket #BZ5881: Inefficient segmentation of SMS messages
* Fixed ticket #BZ6044: Fixed degradation in performance seen in Adaptive module in cases where larger number of binding groups are used.
* Fixed ticket #BZ5510: Fixed memory leaks in core_final_validation(), msys.validate.dkim.get_domains() and msys.validate.dkim.get_responsible_domain() are used in Lua scripts. Also added support for Lua access to DKIM validation results.
* Fixed ticket #BZ4964: TLS_Verify = `no` does not fully disable certificate verification
* Fixed ticket #BZ5144: 3.3.2 webconsole showing wrong software version
* Fixed ticket #BZ5535: memory leak in brightmail module after config reload
* Fixed ticket #BZ6244: SWAKS removed from packaging. See www.jetmore.org/john/code/swaks/

## Momentum 3.4.2-patch1 released on 2012-07-05
* Fixed ticket #BZ5571: Improve performance of large binding groups
* Fixed ticket #BZ5728: On occasion, messages could be delivered twice over a Momentum restart. This fix provides a workaround.
* Fixed ticket #BZ5420: Fix for logfile names getting corrupted

## Momentum 3.5.0 released on 2012-06-26
* Fixed ticket #BZ5215: Momentum 3.4 on Solaris/SPARC was crashing due to a memory misalignment problem in MSGC. The problem cause was identified and corrected. This problem did not affect any other supported platform.
* Fixed ticket #BZ5351: Symantec `conduit` process did not start correctly on Solaris after install
* Fixed ticket #BZ5353: Bad IP address presented to Brightmail
* Fixed ticket #BZ5026: License validation fixes
* Fixed ticket #BZ5186: Memory leak in msys.validate.dkim.get_domains
* Fixed ticket #BZ5189: Message rejected with `message body missing` error
* Fixed ticket #BZ5487: Memory leak in msys.validate.dkim.get_responsible_domains
* Fixed ticket #BZ5618: filenames of centralised logfiles can be corrupt
* Fixed ticket #BZ5686: Memory leak in core_final_validation
* Fixed ticket #BZ4426: Improvements to msys.av.scan - full AV engine results are now available
* Fixed ticket #BZ5529: Unable to save newly created policy in the WebUI
* Fixed ticket #BZ5538: set of available bindings is not shown when editing the filters
* Fixed ticket #BZ5599: Symantec CSAPI integration leaves files in /var/tmp
* Fixed ticket #BZ5723: Null pointer fix in msys.dnsLookup
* Feature ticket #BZ4777: msys.av.scan status must accurately reflect CSAPI results
* Feature ticket #BZ5341: PostgreSQL upgraded to 9.0.7
* Feature ticket #BZ5352: Default Brightmail ruleset is rules2full (was rules2litea)
* Feature ticket #BZ5825: XMPP - Enable PLAIN Authentication with TLS
* Feature ticket #BZ5827: Lua now has full access to DKIM results
* Feature ticket #BZ5828: SMTP ENHANCEDSTATUSCODES now available everywhere
* Feature ticket #BZ5830: More Descriptive protocol deviation error
* Feature ticket #BZ5831: Momentum now supports priority messages.
* Fixed ticket #BZ3522: Thread local storage issues in Lua
* Fixed ticket #BZ5074: AD Reports could be empty
* Fixed ticket #BZ5104: Suspension of bindings can cause messages to bounce between nodes
* Fixed ticket #BZ5157: Thread local storage issues in Lua
* Fixed ticket #BZ5253: crash in maildir module
* Fixed ticket #BZ5439: Brightmail tracker header now broken correctly over multiple lines
* Fixed ticket #BZ5533: duravip_follow a binding causes stacktraces
* Fixed ticket #BZ5545: null pointer crash in SMPP
* Fixed ticket #BZ5550: brightmail module leaks memory on `config reload`
* Fixed ticket #BZ5582: new custom logger macros
* Fixed ticket #BZ5632: msgpart:text(), msgpart:text_replace(), msg:text() and msg:text_replace() can produce bad Quoted-Printable encodings.
* Fixed ticket #BZ5675: Calling msys.validate.dkim.get_verify_results with an unsigned message fails.
* Fixed ticket #BZ5695: SMTP ENHANCEDSTATUSCODES missing
* Fixed ticket #BZ5713: Symantec CSAPI now functional on SPARC
* Fixed ticket #BZ5853: SMPP messages going out with no content
* Fixed ticket #BZ3123: smtp_auth_user and status are only set if a core::validate_auth_hook is registered
* Fixed ticket #BZ4429: MIME parser fix
* Fixed ticket #BZ4842: Solaris crashes now include backtrace
* Fixed ticket #BZ4859: Setting the filter to remove an individual node from a cluster causes no change on the dashboard
* Fixed ticket #BZ4964: TLS_Verify = `no` does not fully disable certificate verification
* Fixed ticket #BZ5167: Add indices to SQLite pg_cache database for better performance
* Fixed ticket #BZ5180: Fixed sorting on Adaptive Adjustments report
* Fixed ticket #BZ5219: Backslash in transfail response is not handled by ec_rt_stats2
* Fixed ticket #BZ5248: Messages failed on first delivery attempt showed incorrect retry count
* Fixed ticket #BZ5282: issue with riak stop/start
* Fixed ticket #BZ5305: issue with riak stop/start during upgrade on Sparc only
* Fixed ticket #BZ5364: race condition in thread pool configuration code
* Fixed ticket #BZ5692: Small memory leak in REST injector
* Fixed ticket #BZ5138: crash when msg:context_set() called incorrectly
* Fixed ticket #BZ5633: msgpart:text(new_text) fails if new_text does not contain an ending LF
* Fixed ticket #BZ3433: clustered log files never properly deleted
* Fixed ticket #BZ4132: UI tabs are not displayed correctly on the Domains page
* Fixed ticket #BZ4396: httpsrv crashes on Solaris with debug_level == DEBUG
* Fixed ticket #BZ4844: msgpart:text() can remove all blank lines
* Fixed ticket #BZ5097: Memory counters go to invalid values
* Fixed ticket #BZ5146: rt_stats_cache_db option in ec_rotate.conf is ignored
* Fixed ticket #BZ5772: Entering bad node name in installer causes error exit
* Fixed ticket #BZ1527: SMTP Extensions AUTH verbs no longer case-sensitive
* Fixed ticket #BZ4173: Custom Reporting dropdown report selection
* Fixed ticket #BZ5603: Messages failed on first delivery attempt showed incorrect retry count

## Momentum 3.4.2 released on 2012-04-02
* Fixed ticket #BZ5100: Root Cause: When config reload occurs, active Lua threads were moved to be reused but the thread state was not always completely cleaned up. Resolution: Make sure Lua thread state is always completely cleaned up when the Lua thread is placed onto the `ok-to-reuse` queue.
* Fixed ticket #BZ5205: Root Cause: When adding an IP address to an audit series, one type of audit series was not being handled. Resolution: Added the case to handle the previously un-handled audit series type when adding an IP address to an audit series. Reviewed the audit series code looking for other instances where an audit series type was not handled, discovered one other instance, and corrected that instance also.
* Fixed ticket #BZ5327: Root Cause: When a large number of rules was returned from the BrightMail scan of a message, the formatting of the rule numbers into a string failed. Resolution: Modified the method used when formatting the rule numbers into a string to accommodate an unlimited number of rules.

## Momentum 3.4.1 released on 2012-03-07
* Fixed ticket #BZ5215: Momentum 3.4 on Solaris/SPARC was crashing due to a memory misalignment problem in MSGC. The problem cause was identified and corrected. This problem did not affect any other supported platform.
* Feature ticket #BZ5116: Enhanced the functionality of the Symantec Beik module to include all of the same functions that are available in the Brightmail client/server implementation. These additional functions include: is_default, and tracker.
* Fixed ticket #BZ5281: Changed installer to prevent uncommon race condition during upgrades where installer would appear to hang while trying to install the new packages.
* Fixed ticket #BZ5086: The webui no longer attempts to restart the local ecelerity instance, which could cause a race with the automatic updates. Now the singlenode case will act like the cluster case and the ecelerity instance will get updated by the cron job within a minute of any commit through the webui.

## Momentum 3.4.0 released on 2012-02-06
* Fixed ticket #BZ4440: brightmail_scanner Sieve action now works in the each_rcpt phase
* Fixed ticket #BZ4476: Fixed an issue so that the max_size option in the brightmail module now works correctly in Solaris SPARC.
* Fixed ticket #BZ4533: Support for querying against mBlox enhanced services API to determine which Network Operator is servicing a given mobile number.
* Fixed ticket #BZ4995: Momentum is now available in Red Hat 64bit packaging.
* Fixed ticket #BZ3400: Resolved an issue where Adaptive adjustments were not included in the Adaptive Summary reports.
* Fixed ticket #BZ3859: Improvements made to reduce load on scheduler thread when calling select AVAS modules from Lua.
* Fixed ticket #BZ4289: From configurations doing per-message TLS, resolved an issue where in certain circumstances messages could get stuck on TLS downgrade.
* Fixed ticket #BZ4425: msys.readfile() Lua function can now be used outside of the scheduler thread.
* Fixed ticket #BZ4633: Fix for intermittent valgrind error that is seen sometimes, which indicates use-after-free situation when msys.timer is used in lua scripts.
* Fixed ticket #BZ4634: Fixed an issue where msys.readfile() wouldn't work in non-scheduler threads
* Fixed ticket #BZ4636: Fixed an issue where the Cloudmark module initializes its library when running in the shim, which now longer happens.
* Fixed ticket #BZ4685: Resolved an issue where a crash could occur when a binding that is tracked by Adaptive Delivery is removed from the configuration.
* Fixed ticket #BZ3260: Resolved an issue where ecconfigd authentication failed if the Brightmail module was not installed on the cluster manager. During installation, additional questions are now asked on the manager as well as the mta
* Fixed ticket #BZ3311: A binding beginning with the word `all` used to affect the results of the `showqueue binding` console command, by returning all the results from the domain, instead of only the results with the domain and binding referenced.
* Fixed ticket #BZ3875: The custom_logger protocol (%p) value now correctly reflects the string `rest` vs `unknown` when the REST protocol is used.
* Fixed ticket #BZ3989: Resolved an issue where under certain circumstances the Cluster Manager would incorrectly show as offline on the Status tab of the web console.
* Feature ticket #BZ3113: The installer will prevent and warn a user from upgrading if the the version of Momentum that is currently installed is not compatible with the version of Momentum they are trying to upgrade to.
* Feature ticket #BZ3450: During an upgrade, install, or reinstall the Local httpd cache will now be cleared to prevent potential webui issues if a corruption with the cache were to occur.
* Feature ticket #BZ3974: Installer enhancement that checks for presence of required packages for Solaris installs.
* Feature ticket #BZ4532: Customer may now define their own MCMT types.
* Feature ticket #BZ4692: Updated bounce classification rules.
* Feature ticket #BZ4711: ac:inbound_session_count now supports IPv6.
* Feature ticket #BZ5163: Support for querying against mBlox enhanced services API to determine which Network Operator is servicing a given mobile number.
* Feature ticket #BZ5164: Logging support for XMPP (Beta). XMPP license required.
* Feature ticket #BZ5165: XMPP Roster and Presence support. (Beta) XMPP license required.
* Feature ticket #BZ5166: The Message Bus (MBUS) has been replaced with Message System Group Communication (MSGC) to improve resiliency during networking issues between nodes in a cluster. SEE RELEASE NOTES FOR IMPORTANT INFORMATION ON UPGRADING.
* Fixed ticket #BZ4186: Added configuration options to support receiving delivery responses as either Hexadecimal or Decimal format.
* Fixed ticket #BZ4803: Added the ability to export Adaptive Delivery reports as CSV from the UI.
* Fixed ticket #BZ4853: Data in Adaptive Delivery reports in the UI is now sortable
* Fixed ticket #BZ4353: Adaptive Delivery not longer takes action on the #mmove binding
* Fixed ticket #BZ4416: Resolved an issue where default policies where only installed on the MTA role.
* Fixed ticket #BZ4880: Resolved an issue where the cluster health was incorrectly showing red when a node is removed.
* Fixed ticket #BZ5059: Resolved an issue where Momentum would crash if a lua script had ' require(`msys.extended.vctx`)' and no'require(`msys.extender`);' in it.
* Fixed ticket #BZ5127: Resolved an issue where the Paths tab was incorrectly showing for Momentum for Sending. This tab should only appear on Momentum for Receiving.
* Feature ticket #BZ4525: Updated Adaptive Deliver rules for AOL and Hotmail,
* Fixed ticket #BZ4800: Added the ability to sort on columns in the Adaptive Delivery reports in the Web Console.
* Fixed ticket #BZ1413: Upgraded Commtouch to version 4.02.
* Fixed ticket #BZ4752: Resolved minor issue in appearance of selected check boxes in filters for multi-node and multi-cluster configurations.
* Fixed ticket #BZ4754: Configuration version now shows correctly on the status page.
* Fixed ticket #BZ5035: Resolved an issue where the Reporting user could see node controls on the status page in the Web Console.

## Momentum 3.3.2 released on 2011-11-01
* Fixed ticket #BZ4517: Resolved an issue where in limited circumstances, after an upgrade to 3.3.1, it is possible for ec_rt_stats2 to get `stuck` and be unable to insert records into the database.
* Fixed ticket #BZ4573: Corrected a race condition in the Datasource and PCRE caches which could be triggered with very high cache insert/replace activity.

## Momentum 3.3.1 released on 2011-10-10
* Feature ticket #BZ3922: AD is now cluster aware. See release notes and documentation for important configuration information.
* Feature ticket #BZ2841: A new hook, core_pre_esmtp_auth, has been added that will provide connection/vctx information during the auth phase.
* Feature ticket #BZ3931: Momentum installer no longer replaces any version of the Cloudmark cartridge manually installed by the customer i.e. not installed by the Momentum installer.
* Fixed ticket #BZ4439: WARNING: if upgrading from 3.3.0, the entire data migration must be complete before upgrading to Momo 3.3.1. See release notes for details.
* Fixed ticket #BZ1502: Fixed an issue where the shim could incorrectly report an issue with ecelerity.conf when there is a hook, like core_final_validation, in sieve.
* Fixed ticket #BZ3097: Resolved an issue that under certain circumstances could display an incorrect value for total messages on the rejections report in the Web Console.
* Fixed ticket #BZ4398: msc_server service is no longer enabled if messagescope is not activated.

## Momentum 3.3.0 released on 2011-09-26
* Feature ticket BZ3923: PLEASE READ RELEASE NOTES AND BACKUP DATABASE BEFORE UPGRADING: Updated the PostgresSQL database from version 8 to version 9 and updated the database schema to normalize data. The upgrade process will migrate data to the new schema which could take many hours depending on the size of your database. Your system will be able to send and receive email while database migration occurs, however, data in the Web UI will not be accurate until the migration is complete.
* Feature ticket BZ4370: NOTE: The migration process will require additional free disk space of approximately the same amount of space currently in use by /var/db/msyspg. The installer will check for adequate disk space before starting the migration.
* Feature ticket BZ2631: Added a new esmtp listener option, starttls_injection_policy, to resolve a recently identified industry-wide security issue for SMTP implementations whereby commands could be injected before the SSL negotiation completed (CVE-2011-0411). The default value, `reject`, will disconnect SMTP sessions if commands are sent after the STARTTLS command but before SSL negotiations are completed.
* Feature ticket BZ3279: `ec_dkim_verify_results` now include the `query` (q=) and `algorithm` (a=) values
* Feature ticket BZ3949: Replaced third party component used in bounce classification with improved Momentum Bounce Classifier.
* Feature ticket BZ1892: Installer script improved to install system dependencies during upgrade that could have blocked uninstalling old packages.
* Feature ticket BZ2656: Added help for the ec_console command `adaptive rules` to the `adaptive help` command output.
* Feature ticket BZ3876: A new section has been added to the Web UI to display and run custom reports that are generated from customizable report templates. The creation of customizable report templates is currently limited to Message System's Professional Services. See documentation for additional details.
* Feature ticket BZ3928: Adaptive Delivery reports have now been added under the report tab in the Web UI. (Phase 1) Also, selection of reports have been changed to drop down selector vs. righthand navigation elements for easier report selection. See release notes and documentation current limitations and additional information.
* Feature ticket BZ3932: The ability to store mobile messages has been added and policy support to take action on the stored message upon asynchronous arrival of delivery receipts. See documentation for additional information. (Mobile Momentum)
* Feature ticket BZ3929: Role based access to reports.
* Fixed ticket BZ3741: Resolved an issue where, under certain circumstances, messages are incorrectly moved from node to node in a clustered environment when all IPs for a particular domain are suspended by Adaptive Delivery. This also resolves the performance degradation and watch dogging some customers may have experienced that resulted from the unnecessary movement of messages between nodes.
* Fixed ticket BZ4061: Resolved an issue where a crash can occur in certain circumstances due to parallel accesses to the inbound_audit named series.
* Fixed ticket BZ4065: Resolved an issue with Adaptive Delivery where FBL and Bounce stats where collected for all domains, not just those for which AD was enabled.
* Fixed ticket BZ3050: Resolved an issue where a message exceeding the 'large_message_threshold' value was not forced to disk when force_fsync is configured.
* Fixed ticket BZ3406: Fixed an issue where temp directories are not removed when local configuration changes are not committed or not committed successfully.
* Fixed ticket BZ3849: Fixed a bug in scheduler that it would sometimes clear an event it did not own which caused a missing timed event.
* Fixed ticket BZ3870: Resolved an issue where ec_rt_stats2 could crash when attempting to write or copy an invalid stat entry to the database. The resulting crash could cause log files to back up on the nodes.
* Fixed ticket BZ4043: A post installation procedure is required to configure and run Symantec CSAPI on a Solaris deployment. See Momentum 3.3 release notes.
* Fixed ticket BZ4094: To reduce the amount of data replicated by Spread, replication for infrequently used items has been removed from the standard configuration. These are outbound_cidr, outbound_domains, and outbound_binding_domains replication. Refer to `Data Replication` the documentation to change this behavior.
* Fixed ticket BZ4179: Resolved an issue which prevented users (admin, users) from having access to the Administration tab when Momentum is configured to use LDAP for Web Console authentication.
* Fixed ticket BZ4226: Resolved an issue where under certain circumstances the 'warmup' adaptive actions are setting the binding age incorrectly,
* Fixed ticket BZ2146: Fix a bug in Sieve so that email address matches can be made using localpart or domain.
* Fixed ticket BZ2908: Some of the perl scripts may die or otherwise exit without triggering the `abnormal termination` detection in gimli. An option is added to the monitor process to force a respawn even in this situation.
* Fixed ticket BZ3041: `binding active` console command will no longer concatenate multiple domain names in its output.
* Fixed ticket BZ3195: Resolved an issue that could cause a crash when the %S macro is incorrectly included in the `log_delivery_format` in the smpp_logger Module Configuration file.
* Fixed ticket BZ3561: Resolved an issue that could occur when ec_qp_encode_to_string() function was passed a null value for toencode
* Fixed ticket BZ3604: Resolved an issue where the start/stop server controls on the Status Tab in the UI would not work for customers that using a FQDN in cluster.boot and mbus.conf.
* Fixed ticket BZ3609: Enhanced the Lua API to capture connection error to a BrightMail server.
* Fixed ticket BZ3610: Enhanced the Lua API to capture all errors returned from BrightMail server.
* Fixed ticket BZ3844: Fixed an issue in dk, dkim and select third party modules that could cause a crash when more than one of them are configured to run together
* Fixed ticket BZ3903: Improved validate_config script to support node_name override in cluster.boot file (for FQDN hostnames).
* Fixed ticket BZ3946: Resolved an issue that could cause a memory leak when the disk for log files is full
* Fixed ticket BZ4006: Fixed an issue that could cause a crash under limited circumstances when changing the pathway during the validate_connect
* Fixed ticket BZ4080: ec_rt_stats2 now defaults to `-W --watchlist_only` to help slow database growth by only storing and rolling up stats for domains on the watchlist. For new installations, the watch list is pre-populated with common domains. See ec_rt_stats2 in the documentation to change this behavior.
* Fixed ticket BZ4262: Added Adaptive stanza options for Enable_Bounce_Stats and Enable_FBL_Stats to allow customers to disable performance intensive calculations if not using AD bounce or FBL threshold rules.
* Fixed ticket BZ2522: SMPP connections now show up using the ec_console `show outbound` command. However due to a current limitation in the debug framework, all SMPP connections will show up in ec_console `show outbound` command, whether the connection is for inbound/receiving or outbound/transmission. SMPP connections do not show when using the `show inbound` command.
* Fixed ticket BZ3189: Filter cache is no longer loaded on Web Console login, resolving a display issue for some customers with a very large number of bindings.
* Fixed ticket BZ3934: Riak has been added to Momentum for use with the following new features: AD Cluster Aware, Custom Reports, and retain mobile messages for retry upon async failure. See release notes and documentation for important configuration information.
* Fixed ticket BZ4141: Removed spurious `svn permission denied` warning that could occur in webui error log under some circumstances
* Fixed ticket BZ1780: Fix a bug so that the value of `peak objects` shown in the output of the console command `memory` is correct.
* Fixed ticket BZ3931: Cloudmark cartridge does not get replaced if installed by manually by customer.

## Momentum 3.2.5 released on 2011-12-19
* Fixed ticket BZ4867: Replaced third party component used in bounce classification with improved Momentum Bounce Classifier.

## Momentum 3.2.3 released on 2011-08-10
* Fixed ticket BZ3761: You can now use a persistent SMPP connection on a DuraVIP Binding.
* Fixed ticket BZ3690: Resolved an issue where data would not display on the domain detail page in the UI under certain circumstansous for systems with a very large number of bindings.
* Fixed ticket BZ3706: Removed 'require ( `strict` )' from the Adaptive module to avoid possible conflict for other Lua modules that are not written to work with strict.
* Fixed ticket BZ3728: Installer now properly sets execute permission on validate_config resolving an erroneous `Your config is not valid` error that could occur when upgrading to Momentum 3.2.2.
* Fixed ticket BZ3651: Resolved an issue where under limited circumstances a crash may occur under load on Sparc.
* Fixed ticket BZ3693: Mobile latency report now correctly displays in the Reporting Tab of the UI.
* Fixed ticket BZ3759: Resolved a database installation error that can occur when the Language in force at time of install is not UTF8.

## Momentum 3.2.2 released on 2011-07-20
* Fixed ticket BZ3679: Corrected the message detail pane on the Domains / Active Queue report to display the binding name when reviewing the details of a selected message.
* Fixed ticket BZ3681: Fixed an issue where occasionally the message detail would not display on the Domains page in the UI for a selected message in the active queue.
* Fixed ticket BZ3684: When SSL is enabled for the webconsole, the installer now uses the primary IP address for the host (instead of _default_). This provides a work around for a known Solaris bug related to configuring an https virtualhost.
* Fixed ticket BZ3574: Resolved an issue where attempting to bootstrap the config checkout on a cluster manager could fail with an authentication error.
* Fixed ticket BZ3575: Fixed an issue where in some situations an error occurred when attempting to commit config changes after upgrading to version 3.2.
* Fixed ticket BZ3632: Resolved an issue introduced in 3.2.0 where under certain circumstances messages get stuck in the #mmove binding.
* Fixed ticket BZ3418: Updated msc_server script for Message Scope implementations using Momentum 3.2.
* Fixed ticket BZ3346: Fixed an issue preventing transient failure details from displaying in the Transient failure report in the Web UI in Momentum 3.1 and 3.2.
* Fixed ticket BZ3426: Expanded LDAP Datasource functionality to support LDAPS and LDAP+STARTTLS for more flexible connection to LDAP and Active Directory data sources.
* Fixed ticket BZ3647: ds_ldap is now installed on the Cluster Manager which resolves an issue for installations that use LDAP for Web UI authentication.
* Fixed ticket BZ3691: Resolved an issue where Momentum would not start if persistent connections were enabled in the Mobility module and Adaptive Delivery was also enabled.
* Fixed ticket BZ3217: Added cache for ecconfigd authorization to improve performance when committing or retrieving files from the configuration repository.
* Fixed ticket BZ3315: Resolved an issue where audit series were not being replicated to the cluster.
* Fixed ticket BZ3478: Resolved an error loading the bounce_logger module when datasource module was not explicitly loaded when running Momentum 3.1 or 3.2. The datasource module is now loaded implicitly by the bounce_logger module.
* Fixed ticket BZ3515: Systems using LDAP/Active Directory authentication and that have large numbers of configuration files and non-local drives may have experienced a problem where ecconfigd would eventually refuse to process SVN requests on the manager node.

## Momentum 3.2.1-patch1 released on 2011-06-13
* Updated msc_server script for Message Scope implementations using Momentum 3.2.

## Momentum 3.2.1 released on 2011-06-01
* Fixed ticket BZ3210: Add support for using node-local include files with node name containing periods (e.g. FQDN).
* Fixed ticket BZ3209: The installer script now validates config files before starting upgrade to prevent issues due to enhanced authentication methods (config must be valid on manager as well as MTA's).
* Fixed ticket BZ3208: Same as BZ3209.
* Fixed ticket BZ3211: A Lua hook defined with an unknown type may cause Momentum to fail.

## Momentum 3.2.0 released on 2011-05-16
* Feature ticket #BZ1787: Symantec BEIK upgraded to version 620.
* Feature ticket #BZ2556: HTTP Proxy now supported for Momentum Live Update services.
* Feature ticket #BZ2555: Adaptive Delivery now provides automated rules in response to high Feedback Loop complaints and takes action when a Feedback Loop Compliant Rate crosses a configurable threshold.
* Feature ticket #BZ2403: Adaptive Delivery now has the ability to take AD actions based a bounce and/or FBL rate threshold.
* Feature ticket #BZ2402: Symantec CSAPI upgraded to 9.1.0.13 everywhere except Solaris AMD64 (not available).
* Feature ticket #BZ2401: Adaptive Delivery now allows Administrators to create their own custom AD rules.
* Feature ticket #BZ2320: Adaptive Delivery rules are now automatically updated via the Live Update service. Momentum clients no longer need to wait for a maintenance release to receive updated AD rules.
* Feature ticket #BZ2319: Momentum customers now have the ability to build a freestanding Lua module written in C using the version of Lua included with Momentum as part of the Momentum developer packages.
* Feature ticket #BZ2318: Momentum now provides the ability to send outbound messages via ecstream.
* Feature ticket #BZ2316: More supported options for the storage of service and role account credentials using a wide variety of industry-standard password storage schemes.
* Feature ticket #BZ2315: Momentum can now authenticate users accessing Momentum services, such as the web interface, from an Active Directory infrastructure.
* Feature ticket #BZ2314: Updated AD and Bounce Classification rules included with the release.
* Feature ticket #BZ2240: Added new hookpoint, core_pre_esmtp_auth, called before we validate the client's response to any authentication challenges allowing response to be overridden on a per-connection basis to report successful or unsuccessful authentication.
* Feature ticket #BZ2106: Adaptive Delivery ignores throttle rules if the domain in question does not have a valid throttle setting, either as a Momentum default or within the Adaptive Delivery rules.
* Feature ticket #BZ2102: The default value for Adaptive Delivery Cache Expiration time has increased to improve the AD cache utilization.
* Feature ticket #BZ2101: Added scriplets wrappers for thread pool statistics.
* Feature ticket #BZ2100: Added a new scriptlet interface to disk usage information.
* Feature ticket #BZ1930: The smtp_should_session_shutdown hook may now be used to shut down an SMTP session after a failed delivery attempt.
* Feature ticket #BZ1561: Adaptive Delivery now supports a maximum outbound connections variable to allow an Administrator to define a maximum number of connections.
* Fixed ticket #BZ2949: Resolved an issue where ec_rt_stats2 could crash when attempting to write or copy an invalid stat entry to the database. Ec_rt_stats2 will now log such an event for troubleshooting and continue to process the stats jlog file without interruption.
* Fixed ticket #BZ2591: Added functionality to automatically load the Message Scope remediation file, which previously had to be loaded manually when Momentum was installed.
* Fixed ticket #BZ2500: Lua scripts caused memory leak in some situations.
* Fixed ticket #BZ1935: Resolved a crash when a domain record expires during TLS downgrade.
* Fixed ticket #BZ1934: Resolved an ec_bag memory leak.
* Fixed ticket #BZ1904: Adaptive Delivery now stops sending mail when a user performs a manual suspend to override Adaptive Delivery.
* Fixed ticket #BZ1797: Expanded functionality to cause add_recipient to throw a sieve hard error when it is called for any phase except for each_rcpt during an ecstream session.
* Fixed ticket #BZ1674: A faulty ClamAV configuration could cause false positives on non-infected mail.
* Fixed ticket #BZ1514: The system could incorrectly leave DuraVIPs in an inconsistent state when removing them from a clustered configuration.
* Fixed ticket #BZ950: Resolved defect preventing showqueue from working on a single binding.
* Fixed ticket #BZ2861: Rotated log files not always compressed due to missing bzip2 in Momentum 3.1.3 installation script.
* Fixed ticket #BZ2645: Actions changed for Adaptive Delivery rules for Hotmail.
* Fixed ticket #BZ2640: The Momentum build now includes the dkim validation module (modules/validate/dkim.h)
* Fixed ticket #BZ2567: AD now only takes action if there is a default value for the AD setting. The default value can be in either the ecelerity.conf or the adaptive_rules.ad. If no default value is defined, no AD action will be taken and the AD rule is ignored. This change eliminates a confusing error message associated with missing default values for actions.
* Fixed ticket #BZ2449: Fixed race conditions in thread pool sub-system which caused miscounted concurrency levels under certain conditions, this may lead to concurrency levels that are not reflected in user configuration.
* Fixed ticket #BZ2397: Added functionality to correctly decode a Subject header with RFC2047 plus QP encoding to translate the `_` character to a space and to stop inserting an extra space when the header spans multiple lines.
* Fixed ticket #BZ2220: Momentum now correctly displays `Uncommitted Changes Found` on the UI's Admin screen when exiting without saving changes.
* Fixed ticket #BZ2189: Updated documentation to note that you must execute an additional config reload when changing from listening on a specific IP address to listening on the `wildcard` address (`*`) or the reverse (Linux systems only).
* Fixed ticket #BZ2150: The Adaptive_Outbound_Throttle_Messages value can now be configured in the WebUI.
* Fixed ticket #BZ2094: Corrected issue where Momentum will permanently fail an expired message with an expiration as bounce reason even if it has already been permanently failed due to another reason.
* Fixed ticket #BZ2036: A bug was fixed that caused Momentum to crash when the binding fail domain command was used under certain circumstances.
* Fixed ticket #BZ1991: Resolved situation with adding a new jlog subscriber whereby any subsequent jlog call from the new subscriber incorrectly indicated the subscriber didn't exist.
* Fixed ticket #BZ1961: Corrected an issue where under certain circumstances doing a disconnect from a script did not return the expected disposition code/message.
* Fixed ticket #BZ1933: Forwarding large volumes of mail requiring conversion from 8- to 7-bit character sets could result in crashes.
* Fixed ticket #BZ1884: Changed error code send when `protocol deviation` is detected from a 550 to a 421.
* Fixed ticket #BZ1829: The disclaimer module no longer adds dots/periods to the ends of lines, causing double-dots in the email message, when sending plain-text messages.
* Fixed ticket #BZ1754: The disclaimer module no longer erroneously inserts quoted-printable encoded newlines.
* Fixed ticket #BZ1752: Adaptive Delivery no longer sends Adaptive Summaries in duplicate.
* Fixed ticket #BZ1713: ec_console did not always display the LOGIN prompt when authenticating against alternative authentication mechanisms, such as Active Directory.
* Fixed ticket #BZ1235: Resolved an issue where under some circumstances bounce counts were inconsistent between total bounce counts and top 20 domains report in web UI.
* Fixed ticket #BZ1232: Resolved an issue where under certain circumstances the Retry_Count could be inflated when using a very short retry_interval.
* Fixed ticket #BZ963: UI Login error message made more descriptive when there is misconfiguration of the UI and a user fails to authenticate.
* Fixed ticket #BZ2170: Momentum now disconnects if the client sends data before the banner, and disconnect_ratware is set.
* Fixed ticket #BZ1898: Resolved issue whereby Async DSN generation with Sieve made an illegal memory access.

## Momentum 3.1.7 released on 2011-12-19
* Fixed ticket #BZ4866: Replaced third party component used in bounce classification with improved Momentum Bounce Classifier.

## Momentum 3.1.6 released on 2011-04-20
* Fixed ticket #BZ2845: Fixed a memory leak that exists only in Momentum 3.1.5.

## Momentum 3.1.5 released on 2011-04-14
* Fixed ticket #BZ2772: Resolved an issue where ec_rt_stats would fail due to a database constraint violation. This only affects upgrades.

## Momentum 3.1.4 released on 2011-04-11
* Feature ticket #BZ2649: Add support for MMS VASP role over MM7 (mobility specific)
* Feature ticket #BZ2651: Make the user interface fully aware of all supported protocols for reporting and management.
* Feature ticket #BZ2652: Add an alternative REST-based injection protocol to Momentum
* Feature ticket #BZ2653: Record SMS and MMS failed deliveries into the bouncelog and make general status notes available in logging and hooks.
* Feature ticket #BZ1449: Allow mobility licensing to have an independent expiration from main server licensing (mobility specific)
* Fixed ticket #BZ1386: Support Live Updates for Vendor Specific TLVs (mobility specific)
* Fixed ticket #BZ1329: Addressed multi-byte issues in SMTP-SMPP Sms/Email Internetworking parse (mobility specific)
* Fixed ticket #BZ1355: Change SMPP internetworking parse to parse subject if 'to' is not present (mobility specific)
* Fixed ticket #BZ1359: Fix possible crash while processing certain delivery reports.
* Fixed ticket #BZ1388: Add capabilities to process vendor specific TLV configurations (mobility specific)
* Fixed ticket #BZ1403: Make MO SMS/Email internetworking parse configurable (mobility specific)
* Fixed ticket #BZ1421: Adding submit_sm & deliver_sm message_payload support per SMPP v3.4 (mobility specific)
* Fixed ticket #BZ1423: Allow for setting of SMPP ton and npi codes on a per-SMSC basis (mobility specific)
* Fixed ticket #BZ1426: Allow more specific tuning of sms_data_coding and encoding_name mapping settings (mobility specific)
* Fixed ticket #BZ1436: Move SMPP pre-conversion hook ahead of interworking_format parsing AND email_to look-up (mobility specific)
* Fixed ticket #BZ1442: Add SMS MO_Email_Data_Coding context variable support (mobility specific)
* Fixed ticket #BZ1452: Warn on invalid values for ton and npi (mobility specific)
* Fixed ticket #BZ1454: Move check for numeric SMS destination to after MT post-convert hook (mobility specific)
* Fixed ticket #BZ1456: Address issue with parsing message state from SMPP delivery receipt (mobility specific)
* Fixed ticket #BZ1458: Fix issue where certain segments of a multi-segment SMS message could be resent (mobility specific)
* Fixed ticket #BZ1485: Remove error messages for MT SMs when esme address not is present (mobility specific)
* Fixed ticket #BZ951: Resolved issue where ec-rt-stats would prematurely terminate under some circumstances and causing a backup of logs on nodes.
* Fixed ticket #BZ2017: Corrected an issue with the Advanced Configuration Editor that sometimes caused the UI to error when configuring some third-party modules.
* Fixed ticket #BZ2029: The watch changes to this domain check box on the Domains page in the UI now correctly displays an X when the domain is in the watched domains list.
* Fixed ticket #BZ929: Scriptlets engine can crash when registering an unknown argument type.
* Fixed ticket #BZ1457: Fix crash when handling an internetworking parse of a multipart mime message with no text/plain component (mobility specific)
* Fixed ticket #BZ1756: Improved error reporting when Adaptive Delivery is misconfigured by mistakenly omitting loading msys.adaptive in the configuration file.
* Fixed ticket #BZ1986: Resolved an issue where DKIM signatures sometimes are canonicalized without the trailing CRLF, causing messages to fail authentication.
* Fixed ticket #BZ1993: Changed BEIK module to singleton for compatibility with config reload functionality. (Momentum for Receiving required for AV/AS)
* Fixed ticket #BZ2068: Resolved an issue where, under certain circumstances, messages are incorrectly moved from node to node in a clustered environment when all IPs for a particular domain are suspended by Adaptive Delivery.
* Fixed ticket #BZ2145: Fixed an issue causing a crash when SMTP debugging or tracing is enabled and certain DNS MX conditions occur.
* Fixed ticket #BZ2363: Resolved an issue where in certain circumstances the AV engine may fault. (Momentum for Receiving required for AV/AS)
* Fixed ticket #BZ2553: Fixed an issue where the Lua database functions (msys.db) may incorrectly report an exception or cause a crash in limited load-related situations.

## Momentum 3.1.3 released on 2011-02-04
* Fixed ticket #8179: Resolves an issue where heavy use of outbound throttles could cause performance degradation (both inbound and outbound) in Momentum 3.1.1 - 3.1.2. Setting `clear_mail_queue_maintainers = 'true'` in Momentum 3.1.1 - 3.1.2 will also resolve this issue.

## Momentum 3.1.2 released on 2011-01-27
* Fixed ticket #8150: Resolved an issue under which Momentum would crash on Linux when a point-to-point tunnel interface was plumbed.
* Fixed ticket #8151: Resolved an issue where setting the message routing domain from lua, via msg:routing_domain(), would not take effect.

## Momentum 3.1.1 released on 2011-01-17
* Fixed ticket #8069: Resolved an issue where null is incorrectly returned when using msys.audit namespace without including the cidr option
* Fixed ticket #8071: Fixed an issue where message context data was not populated when msys.cidr.query was called from a hook, which could have caused a crash.
